let knex;_292‍.x([["getCardTypeByName",()=>getCardTypeByName],["updateName",()=>updateName]]);_292‍.w("../database",[["default",["knex"],function(v){knex=v}]]);

       const getCardTypeByName = async name => {

    const result = await knex('type')
        .select('type.name')
        .join('cards_types', 'card.id', 'cards_types.card_id')
        .join('type', 'type.id', 'cards_types.type_id')
        .where('card.name', name);

    _292‍.g.console.log(result);

};


       const updateName = async (content) => {
    const newName = content['newName'];
    const card_id = content['card_id'];

    await knex('card')
        .update({ name:newName})
        .where({id:card_id});

    return  { "success": true };

};


